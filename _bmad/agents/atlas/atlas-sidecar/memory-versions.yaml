# Atlas Memory Version Manifest
# Tracks optimization generations and enables restore capability

metadata:
  created: 2026-01-06T10:30:00Z
  last_optimization: 2026-01-24T12:00:00Z
  last_sync: 2026-01-25T17:45:00Z
  current_generation: 5

versions:
  - generation: 1
    timestamp: 2026-01-06T10:30:00Z
    backup_path: ./backups/v1/
    token_count_before: 37000
    token_count_after: 22778
    optimization_type: full
    changes_summary:
      - "Consolidated 92 patterns in 06-lessons.md into categorized sections"
      - "Removed verbose code examples (reference docs instead)"
      - "Summarized pre-Epic 14 sync history entries"

  - generation: 2
    timestamp: 2026-01-07T12:00:00Z
    backup_path: ./backups/v2/
    token_count_before: 20267
    token_count_after: 16840
    optimization_type: full
    changes_summary:
      - "Consolidated React Query section in 04-architecture.md (removed verbose code examples, reference docs instead)"
      - "Summarized Epic progress into table format"
      - "Consolidated story-specific sections (14.23, 14.16) into compact tables"
      - "Removed redundant Code Review Learnings (reference 06-lessons.md and story files)"
      - "Consolidated pre-2026 sync history into epic summaries"
      - "Updated current development status with React Query completion"

  - generation: 3
    timestamp: 2026-01-10T12:00:00Z
    backup_path: ./backups/v3/
    token_count_before: 36800
    token_count_after: 11900
    optimization_type: full
    changes_summary:
      - "04-architecture.md: 59KB→8KB - Removed verbose code review learnings, consolidated patterns"
      - "02-features.md: 13KB→5KB - Collapsed completed epic story tables"
      - "06-lessons.md: 18KB→6KB - Consolidated story-specific learnings into pattern tables"
      - "08-workflow-chains.md: 16KB→6KB - Simplified workflow diagrams"
      - "09-sync-history.md: 11KB→4KB - Consolidated 111 daily entries into weekly summaries"
      - "Protected: Core identity facts, pattern tables, decision rationale"

  - generation: 4
    timestamp: 2026-01-12T18:45:00Z
    backup_path: ./backups/v4/
    token_count_before: 14400
    token_count_after: 10200
    optimization_type: full
    changes_summary:
      - "04-architecture.md: Removed duplicate Epic Progress Summary section, consolidated Epic 14d ~150 lines → ~40 lines"
      - "09-sync-history.md: Consolidated Jan 11-12 verbose session details (~230 lines → ~50 lines)"
      - "02-features.md: Marked Epic 14d COMPLETE, collapsed story details"
      - "Protected: Core identity facts, pattern tables, ADR decisions, critical workflow chains"

  - generation: 5
    timestamp: 2026-01-24T12:00:00Z
    backup_path: ./backups/v5/
    token_count_before: 18000
    token_count_after: 11500
    optimization_type: full
    changes_summary:
      - "atlas-memory.md: Fixed generation inconsistency (sync vs optimization), removed duplicate project status (~50 lines removed)"
      - "02-features.md: Consolidated Epic 14c-refactor (36 stories → summary), Epic 14d-v2 (11 story entries → table), Epic 14e (3 story entries → table) - 743 → ~185 lines"
      - "04-architecture.md: Archived reverted Epic 14c cache optimization section (~115 lines), consolidated sync notes - 769 → ~550 lines"
      - "06-lessons.md: Consolidated verbose sync notes (50 entries → summary table) - 387 → ~300 lines"
      - "09-sync-history.md: Removed stale session summary (Epic 14c reverted), consolidated story tables - 186 → ~100 lines"
      - "Protected: Core identity facts, pattern tables, ADR decisions, critical workflow chains, Epic 14c failure lessons"

restore_history: []
  # Example entry (added by memory-restore):
  # - timestamp: 2025-12-20T14:00:00Z
  #   restored_from_generation: 1
  #   safety_backup_path: ./backups/pre-restore-2025-12-20/

config:
  # Project-configurable settings
  archive_in_git: false  # If true, backups tracked in git; if false, add to .gitignore
  breadcrumbs_enabled: true  # Leave pointers when content migrates to docs
  auto_suggest_threshold: 15000  # Token count to trigger optimization suggestion
