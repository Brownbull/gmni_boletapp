<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <!-- Story 11.6: viewport-fit=cover enables safe area insets on iOS (AC #1, #7) -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="theme-color" content="#2d3a4a" />
    <title>Gastify - Expense Tracker</title>
    <!-- Story 14.10: Google Fonts - Outfit (main UI), Baloo 2 (wordmark) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Baloo+2:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Story 7.12: App-wide CSS Custom Properties Theme System (AC #6, #7) */
      /* Story 7.17: Renamed themes - "Normal" (warm) is default, "Professional" (cool) is optional */
      /* Story 11.6: Safe area and viewport utilities for PWA (AC #1, #3) */
      :root {
        /* Story 14.10: Typography - Outfit as primary font */
        --font-family: 'Outfit', ui-sans-serif, system-ui, sans-serif;
        --font-family-wordmark: 'Baloo 2', cursive, sans-serif;

        /* Safe area insets for PWA on devices with notches/navigation bars */
        --safe-top: env(safe-area-inset-top, 0px);
        --safe-bottom: env(safe-area-inset-bottom, 0px);
        --safe-left: env(safe-area-inset-left, 0px);
        --safe-right: env(safe-area-inset-right, 0px);

        /* Light mode - Normal theme (warm earth tones, was "ghibli") */
        --bg: #f5f0e8;         /* warm cream */
        --bg-secondary: #ffffff; /* Story 14.11: Nav bar background */
        --bg-tertiary: #f8f5f0; /* Story 14.11: Hover states */
        --surface: #ffffff;     /* white */
        --primary: #2d3a4a;     /* night blue */
        --primary-hover: #6366f1; /* Story 14.11: FAB gradient end */
        --secondary: #5b8fa8;   /* ocean blue */
        --accent: #4a7c59;      /* forest green */
        --success: #7d9b5f;     /* sage green */
        --warning: #e8a87c;     /* sunset orange */
        --error: #f0a3b0;       /* rose pink */
        --text-primary: #2d3a4a; /* Story 14.11: Primary text */
        --text-secondary: #5b8fa8; /* Story 14.11: Secondary text */
        --text-tertiary: #9ca3af; /* Story 14.11: Inactive nav icons */
        --border-light: #e5e7eb; /* Story 14.11: Nav border */
        /* Chart colors - warm natural palette */
        --chart-1: #5b8fa8;     /* ocean */
        --chart-2: #7d9b5f;     /* sage */
        --chart-3: #e8a87c;     /* sunset */
        --chart-4: #f0a3b0;     /* rose */
        --chart-5: #a3c5e0;     /* sky blue */
        --chart-6: #e3bba1;     /* peach */
      }

      .dark {
        /* Dark mode - Normal theme (warm night palette) */
        --bg: #2d3a4a;         /* night blue */
        --bg-secondary: #3d4a5a; /* Story 14.11: Nav bar background */
        --bg-tertiary: #4d5a6a; /* Story 14.11: Hover states */
        --surface: #3d4a5a;    /* lighter night */
        --primary: #f5f0e8;    /* warm cream */
        --primary-hover: #818cf8; /* Story 14.11: FAB gradient end (lighter for dark) */
        --secondary: #a3c5e0;  /* sky blue */
        --accent: #7d9b5f;     /* sage green */
        --success: #7d9b5f;    /* sage */
        --warning: #e8a87c;    /* sunset */
        --error: #f0a3b0;      /* rose */
        --text-primary: #f5f0e8; /* Story 14.11: Primary text */
        --text-secondary: #a3c5e0; /* Story 14.11: Secondary text */
        --text-tertiary: #9ca3af; /* Story 14.11: Inactive nav icons */
        --border-light: #4d5a6a; /* Story 14.11: Nav border */
      }

      /* Story 7.17: Professional Color Theme (cool blue/gray, was "default") */
      [data-theme="professional"] {
        /* Light mode - Professional cool tones */
        --bg: #f8fafc;         /* slate-50 */
        --bg-secondary: #ffffff; /* Story 14.11: Nav bar background */
        --bg-tertiary: #f1f5f9; /* Story 14.11: Hover states */
        --surface: #ffffff;     /* white */
        --primary: #0f172a;     /* slate-900 */
        --primary-hover: #6366f1; /* Story 14.11: FAB gradient end */
        --secondary: #64748b;   /* slate-500 */
        --accent: #3b82f6;      /* blue-500 */
        --success: #22c55e;     /* green-500 */
        --warning: #f59e0b;     /* amber-500 */
        --error: #ef4444;       /* red-500 */
        --text-primary: #0f172a; /* Story 14.11: Primary text */
        --text-secondary: #64748b; /* Story 14.11: Secondary text */
        --text-tertiary: #94a3b8; /* Story 14.11: Inactive nav icons */
        --border-light: #e2e8f0; /* Story 14.11: Nav border */
        /* Chart colors - Professional palette */
        --chart-1: #3b82f6;     /* blue-500 */
        --chart-2: #22c55e;     /* green-500 */
        --chart-3: #f59e0b;     /* amber-500 */
        --chart-4: #ef4444;     /* red-500 */
        --chart-5: #8b5cf6;     /* violet-500 */
        --chart-6: #ec4899;     /* pink-500 */
      }

      [data-theme="professional"].dark {
        /* Dark mode - Professional cool palette */
        --bg: #0f172a;         /* slate-900 */
        --bg-secondary: #1e293b; /* Story 14.11: Nav bar background */
        --bg-tertiary: #334155; /* Story 14.11: Hover states */
        --surface: #1e293b;    /* slate-800 */
        --primary: #f8fafc;    /* slate-50 */
        --primary-hover: #818cf8; /* Story 14.11: FAB gradient end */
        --secondary: #94a3b8;  /* slate-400 */
        --accent: #60a5fa;     /* blue-400 */
        --success: #4ade80;    /* green-400 */
        --warning: #fbbf24;    /* amber-400 */
        --error: #f87171;      /* red-400 */
        --text-primary: #f8fafc; /* Story 14.11: Primary text */
        --text-secondary: #94a3b8; /* Story 14.11: Secondary text */
        --text-tertiary: #64748b; /* Story 14.11: Inactive nav icons */
        --border-light: #334155; /* Story 14.11: Nav border */
      }

      /* Utility classes for theme (AC #6) */
      .theme-bg { background-color: var(--bg); }
      .theme-surface { background-color: var(--surface); }
      .theme-text-primary { color: var(--primary); }
      .theme-text-secondary { color: var(--secondary); }
      .theme-accent { color: var(--accent); }
      .theme-border { border-color: var(--secondary); }

      /* Story 11.6: Safe area utility classes for PWA (AC #1, #3) */
      .safe-top { padding-top: var(--safe-top); }
      .safe-bottom { padding-bottom: var(--safe-bottom); }
      .safe-left { padding-left: var(--safe-left); }
      .safe-right { padding-right: var(--safe-right); }
      .safe-x { padding-left: var(--safe-left); padding-right: var(--safe-right); }
      .safe-y { padding-top: var(--safe-top); padding-bottom: var(--safe-bottom); }
      .safe-all { padding: var(--safe-top) var(--safe-right) var(--safe-bottom) var(--safe-left); }

      /* Story 10.6: Insight Card Animations (AC #5, #8) */
      @keyframes slide-up {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fade-out {
        from {
          opacity: 1;
        }
        to {
          opacity: 0;
        }
      }

      .animate-slide-up {
        animation: slide-up 0.3s ease-out forwards;
      }

      .animate-fade-out {
        animation: fade-out 0.2s ease-out forwards;
      }

      /* Story 11.3: Animated Item Reveal Keyframes (AC #2, #3) */
      @keyframes item-reveal {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .animate-item-reveal {
        animation: item-reveal 200ms ease-out forwards;
        /* GPU-accelerated properties for smooth 60fps (Task 6) */
        will-change: opacity, transform;
      }

      /* Story 14.2: Screen Transition System Keyframes (AC #1, #2, #4) */
      @keyframes pageTransition {
        from {
          opacity: 0;
          transform: translateX(var(--translate-start, 30px));
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      /* Fade-only transition for tab switches (direction="none") */
      /* Per motion-design-system.md Section 2.1: Tab | Tab | Fade crossfade */
      @keyframes pageTransitionFade {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes transitionChildReveal {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .page-transition {
        /* GPU-accelerated for smooth 60fps */
        will-change: transform, opacity;
      }

      .transition-child {
        /* GPU-accelerated for staggered animations */
        will-change: transform, opacity;
      }

      /* Story 14.4: Quick Save Success Animation (AC #2) */
      @keyframes quickSaveSuccessBounce {
        0% { transform: scale(0); }
        50% { transform: scale(1.15); }
        70% { transform: scale(0.95); }
        100% { transform: scale(1); }
      }

      .animate-quick-save-success {
        animation: quickSaveSuccessBounce 400ms cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
      }

      /* General fade-in animation for UI feedback */
      @keyframes fade-in {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      .animate-fade-in {
        animation: fade-in 200ms ease-out forwards;
      }

      /* Story 14.12: Carousel slide transition animations */
      @keyframes slideInFromRight {
        from {
          opacity: 0;
          transform: translateX(100%);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes slideInFromLeft {
        from {
          opacity: 0;
          transform: translateX(-100%);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      /* Story 14.12: Radar comparison overlay animations (subtle slide-in) */
      @keyframes comparisonSlideFromLeft {
        from {
          opacity: 0;
          transform: translateX(-20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes comparisonSlideFromRight {
        from {
          opacity: 0;
          transform: translateX(20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .animate-comparison-left {
        animation: comparisonSlideFromLeft 300ms ease-out forwards;
      }

      .animate-comparison-right {
        animation: comparisonSlideFromRight 300ms ease-out forwards;
      }

      /* Story 14.12: Radar polygon expand animation */
      @keyframes radarExpand {
        from {
          transform: scale(0);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      /* Story 14.12: Bump chart line draw animation */
      @keyframes drawLine {
        from {
          stroke-dashoffset: 1000;
        }
        to {
          stroke-dashoffset: 0;
        }
      }

      /* Story 14.12: Bump chart dot appear animation */
      @keyframes dotAppear {
        from {
          transform: scale(0);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      /* Story 14.12: Recientes transaction item fade-in from left */
      @keyframes fadeInFromLeft {
        from {
          opacity: 0;
          transform: translateX(-20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      /* Story 14.12: Radar category progress ring fill animation */
      /* Uses CSS custom property --target-offset for the final dashoffset value */
      @keyframes progressRingFill {
        from {
          stroke-dashoffset: var(--ring-circumference);
        }
        to {
          stroke-dashoffset: var(--target-offset);
        }
      }

      .animate-fade-in-left {
        animation: fadeInFromLeft 300ms ease-out forwards;
        will-change: opacity, transform;
      }

      /* Respect prefers-reduced-motion (AC #8) */
      @media (prefers-reduced-motion: reduce) {
        .animate-slide-up,
        .animate-fade-out,
        .animate-fade-in,
        .animate-fade-in-left,
        .animate-item-reveal,
        .page-transition,
        .transition-child,
        .animate-quick-save-success,
        .animate-comparison-left,
        .animate-comparison-right {
          animation: none;
          opacity: 1;
          transform: none;
        }
      }

      /* Story 14.10: Global font family application */
      body {
        font-family: var(--font-family);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
