# generated: 2025-12-09
# project: boletapp
# project_key: boletapp
# tracking_system: file-system
# story_location: docs/sprint-artifacts

# STATUS DEFINITIONS:
# ==================
# Epic Status:
#   - backlog: Epic exists in epic file but not contexted
#   - contexted: Next epic tech context created by *epic-tech-context (required)
#
# Story Status:
#   - backlog: Story only exists in epic file
#   - drafted: Story file created in stories folder by *create-story
#   - ready-for-dev: Draft approved and story context created by *story-ready
#   - in-progress: Developer actively working on implementation by *dev-story
#   - review: Implementation complete, ready for review by *code-review
#   - done: Story completed by *story-done
#
# Retrospective Status:
#   - optional: Can be completed but not required
#   - completed: Retrospective has been done by *retrospective
#
# WORKFLOW NOTES:
# ===============
# - Epics should be 'contexted' before stories can be 'drafted'
# - SM typically drafts next story ONLY after previous one is 'done' to incorporate learnings
# - Dev moves story to 'review', dev reviews, then Dev moves to 'done'

generated: 2025-12-09
project: boletapp
project_key: boletapp
tracking_system: file-system
story_location: docs/sprint-artifacts

development_status:
  epic-1: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-2: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-3: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-4: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-5: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-6: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-7: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-8: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-9: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-10: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-11: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-12: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-13: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-14: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-14c: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-14d: docs/sprint-artifacts/sprint-status_epics1to13.yaml
  epic-14e: docs/sprint-artifacts/sprint-status_epics1to13.yaml

  # Epic 14d shared groups: REMOVED (2026-02-09) — feature will be redesigned

  # ============================================================================
  # Epic 15: Codebase Refactoring (~87 points, 8 phases)
  # Full analysis: docs/architecture/proposals/CODEBASE-REFACTOR-ANALYSIS.md
  # Replaces previous Epic 15 (Advanced Features, deferred to Epic 19)
  # ============================================================================
  epic-15: in-progress

  # Phase 0: Critical Bugs (immediate)
  15-0a-batch-chunking-fix: done        # 2 pts - Fix missing 500-op chunking in recordsService + airlockService
  15-0b-sanitize-input-audit: done      # 1 pt  - Audit + extend sanitizeInput() coverage

  # Phase 1: Foundation — Dead Code + Shared Utilities
  15-1a-delete-dead-services: backlog   # 1 pt  - Delete fcmToken, pushNotifications, transactionQuery (~1,193 lines)
  15-1b-centralize-paths: backlog       # 2 pts - Collection path builder (35+ inline → 1 file)
  15-1c-generic-mapping-service: backlog # 3 pts - Parameterized mapping service (828 → ~250 lines)
  15-1d-normalize-for-mapping: backlog  # 2 pts - Unified normalization with Unicode NFD (5 copies → 1)
  15-1e-base-duplicate-detection: backlog # 2 pts - Configurable comparator (742 → ~400 lines)
  15-1f-batch-operations-util: backlog  # 2 pts - Auto-chunking at 500 ops
  15-1g-consolidate-validation: backlog # 1 pt  - Merge validation.ts + validationUtils.ts

  # Phase 2: Business Logic Centralization
  15-2a-currency-formatting: backlog    # 2 pts - DEFAULT_CURRENCY + formatCurrency() (56 occurrences)
  15-2b-date-utilities: backlog         # 2 pts - Merge date.ts + dateHelpers.ts + periodUtils.ts
  15-2c-timestamp-utils: backlog        # 2 pts - Unified TimestampLike → Date/millis
  15-2d-transaction-validation: backlog # 2 pts - Shared validation predicates (11+ files)
  15-2e-comparators: backlog            # 2 pts - Typed sort comparators (132 calls, 43 files)
  15-2f-storage-wrapper: backlog        # 2 pts - Typed localStorage wrapper (22 files)
  15-2g-number-format: backlog          # 2 pts - formatDecimal(), formatPercent()
  15-2h-error-handling: backlog         # 3 pts - Error code mapping + toast service (37 files)

  # Phase 3: Component Deduplication
  15-3a-confirm-dialog-shared: backlog  # 2 pts - Promote ConfirmationDialog, replace window.confirm
  15-3b-generic-mappings-list: backlog  # 3 pts - MappingsList<T> replaces 4 components (2,238 → ~400 lines)

  # Phase 4: Feature Modules
  15-4a-feature-analytics: backlog      # 2 pts - Create features/analytics/ (~15 files)
  15-4b-feature-history: backlog        # 2 pts - Create features/history/ (~10 files)
  15-4c-feature-insights: backlog       # 2 pts - Create features/insights/ (~12 files)
  15-4d-feature-reports: backlog        # 2 pts - Create features/reports/ (~8 files)
  15-4e-feature-dashboard: backlog      # 2 pts - Create features/dashboard/ (~5 files)
  15-4f-feature-settings: backlog       # 2 pts - Create features/settings/ (~5 files)
  15-4g-hooks-to-features: backlog      # 2 pts - Move 15+ feature-specific hooks + barrel exports

  # Phase 5: Mega-View Decomposition
  15-5a-category-aggregation: backlog   # 2 pts - Shared categoryAggregation.ts
  15-5b-decompose-trends-view: backlog  # 5 pts - TrendsView 5,901 → 800 + sub-files
  15-5c-decompose-dashboard-view: backlog # 3 pts - DashboardView 3,412 → 800 + sub-files
  15-5d-decompose-editor-view: backlog  # 3 pts - TransactionEditorView 2,721 → 800 + sub-files
  15-5e-decompose-icon-filter-bar: backlog # 2 pts - IconFilterBar 1,797 → 200 + dropdowns
  15-5f-decompose-app-tsx: backlog      # 3 pts - App.tsx 2,069 → 800 + feature roots

  # Phase 6: Data Access Layer
  15-6a-repository-interfaces: backlog  # 2 pts - 7 repository interfaces
  15-6b-firestore-repositories: backlog # 3 pts - Firestore implementations (46 → 7-10 imports)
  15-6c-migrate-consumers: backlog      # 3 pts - Hooks/views → repository pattern

  # Phase 7: State Management Alignment
  15-7a-history-filters-zustand: backlog # 2 pts - HistoryFiltersContext → Zustand
  15-7b-app-state-zustand: backlog      # 2 pts - AppStateContext → Zustand
  15-7c-theme-zustand: backlog          # 2 pts - ThemeContext → Zustand
  15-7d-separate-client-server: backlog # 2 pts - Separate mixed hooks

  epic-15-retrospective: optional

  # ============================================================================
  # Deferred Epics (renumbered after Epic 15 replacement)
  # ============================================================================

  # Epic 16: Onboarding & Progressive Disclosure (~15 points)
  # Time-to-value <60 seconds, demo walkthrough, feature unlocking
  # (Formerly Epic 14, renumbered after brainstorming expansion)
  epic-16: backlog
  epic-16-retrospective: optional

  # Epic 17: Tags & Grouping (~18 points)
  # User-defined tags for trip tracking, project expenses
  # (Formerly Epic 15, renumbered after brainstorming expansion)
  epic-17: backlog
  epic-17-retrospective: optional

  # Epic 18: Achievements & Milestones (~12 points)
  # Ethical gamification - celebrate progress without shame
  # (Formerly Epic 16, renumbered after brainstorming expansion)
  epic-18: backlog
  epic-18-retrospective: optional

  # Epic 19: Advanced Features (~38 points)
  # Goals system, learned thresholds, out-of-character detection, treemap, themeable skins
  # (Formerly Epic 15, deferred 2026-02-09 — replaced by Codebase Refactoring)
  # Full definition preserved in: docs/sprint-artifacts/epic15/epic-15-advanced-features.md
  epic-19: backlog
  epic-19-retrospective: optional

  # ============================================================================
  # FUTURE BACKLOG (Post-Launch)
  # These epics are deferred until after MVP launch
  # ============================================================================

  # Epic F1: Subscription & Monetization
  # 3-tier model (Free/Pro/Max), Mercado Pago integration
  epic-f1-subscription: future-backlog

  # Epic F2: Household Sharing - MOVED to Epic 14c (see above)
  # epic-f2-household-sharing: moved-to-14c

  # Epic F3: Card Statement Scanning
  # Upload card statement → extract multiple transactions
  epic-f3-card-statement: future-backlog

  # Epic F4: Mobile Native App
  # iOS + Android native apps
  epic-f4-mobile-native: future-backlog

  # Epic F5: Insight Avatars
  # Personality-based insight delivery
  epic-f5-insight-avatars: future-backlog

  # Epic F6: Analytics Dashboard & Scheduled Insights
  # Deferred features from Epic 10 architecture session (2025-12-17)
  # Includes: Weekly/Monthly Summary Views, Scheduled Push Notifications, Reports Section
  # Requires Cloud Functions for scheduling (beyond ADR-015 client-side scope)
  # Archived references: docs/sprint-artifacts/epic10/_archive/
  epic-f6-analytics-dashboard-scheduled-insights: future-backlog
